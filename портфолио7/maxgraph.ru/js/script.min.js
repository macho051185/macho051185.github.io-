function storeLastScrollTop(a){a=a||$(window).scrollTop(),localStorage.setItem("gdb-lastscrolltop",a)}function getLastScrollTop(){return localStorage.getItem("gdb-lastscrolltop")}function isIE(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");return e>0?parseInt(a.substring(e+5,a.indexOf(".",e)),10):!1}function loadScript(a,b){var c=document.createElement("script");c.type="text/javascript",b&&(c.onload=b),document.getElementsByTagName("head")[0].appendChild(c),c.src=a}function loadGoogleMapsApi(){var a="http://maps.googleapis.com/maps/api/js?v=3&sensor=false";loadScript(a,function(){googleMapsLoaded=!0,$(window).trigger("googlemapsloaded")})}var googleMapsLoaded=!1,createSwiperSlider=function(a,b,c,d){return function(e,f){function g(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}if(0!==a.length){var h,i=a.find(".swiper-wrapper");if(c)if(d){var j=i.find(".swiper-slide:first");i.html(g(i.children(":not(:first)").get())).prepend(j)}else i.html(g(i.children().get()));return h=new f(a,b),a.find(".swiper-button").on("click",function(a){a.preventDefault(),"left"===e(this).data("slide-to")?h.slidePrev():"right"===e(this).data("slide-to")&&h.slideNext()}),h}}(jQuery,Swiper)},scrollToTarget=function(a,b){!function(c,d){var e=navigator.userAgent.indexOf("Firefox")>0||isIE(),f=0;b=b||1.2,void 0===a?f=c(window).height():"string"==typeof a?f=c(a).offset().top:"number"==typeof a&&(f=a),d.to(c(e?"html":"body"),b,{scrollTo:f,ease:Power2.easeInOut})}(jQuery,TweenMax)};!function(a,b){"use strict";a.fn.imagesLoader=function(c){function d(a){var b=Math.round(b/o);p++,l.onProgress.call(void 0,a),m.trigger("progress",[a,p,b]),p===o&&(l.onComplete.call(),m.trigger("complete"))}function e(a,c){d(a),l.animate&&b.fromTo(a,l.time,{alpha:0},{alpha:1}),void 0!==c&&c.call()}function f(a,b){var c=a.data("src");a.removeAttr("data-src"),a.on("load",function(){e(a,b)}).attr("src",c)}function g(a,b){var c=a.data("src"),d=new Image;a.removeAttr("data-src"),d.onload=function(){var d="background-image: url("+c+")";""!==a.attr("style")&&(d+=";"+a.attr("style")),a.attr("style",d),e(a,b)},d.src=c}function h(a,c){var d="IMG"===a.prop("tagName");l.animate&&d&&b.set(a,{alpha:0}),d?f(a,c):g(a,c)}function i(){h(n.eq(p),function(){o>p&&i()})}function j(){o>0&&(l.sequential?i():n.each(function(){h(a(this))}))}var k=function(){},l=a.extend({animate:!0,time:.4,sequential:!1,onComplete:k,onProgress:k},c),m=a(this),n=m.find("[data-src]"),o=n.length,p=0,q=function(a,b){m.on(a,b)},r=function(a,b){m.one(a,b)},s=function(a){m.off(a)};return j(),{on:q,one:r,off:s}}}(jQuery,TweenMax),function(a,b,c){"use strict";var d=function(){};a.fn.inviewReveal=function(b){function e(){p=o<=l.scrollTop()?"down":"up",o=l.scrollTop()}function f(){var b="down"===p?k.startY:-k.startY;c.killTweensOf(a(n)),c.staggerFromTo(a(n),k.time,{alpha:0,y:b},{alpha:1,y:0,ease:k.ease},k.stagger),h()}function g(a){-1===n.indexOf(a)&&(n.push(a),clearTimeout(q),q=setTimeout(function(){f()},k.delay))}function h(){clearTimeout(q),n=[]}function i(){m.iptInView({throttle:k.throttle,delay:0,boundsOffset:k.boundOffset,onAppear:function(){var b=a(arguments[0].element[0]);g(b),k.onAppear(a(arguments[0].element[0]))},onDisappeared:function(){var b=a(arguments[0].element[0]);c.killTweensOf(b),c.to(b,k.time/2,{opacity:0,y:0}),k.onDisappeared(a(arguments[0].element[0]))},onDisappear:function(){k.onDisappear(a(arguments[0].element[0]))},onFirstAppear:function(){k.onFirstAppear(a(arguments[0].element[0]))},onFirstAppeared:function(){k.onFirstAppeared(a(arguments[0].element[0]))},onAppeared:function(){k.onAppeared(a(arguments[0].element[0]))}})}function j(){l.on("scroll",e),c.set(m,{opacity:0}),i()}var k=a.extend({time:.8,startY:100,stagger:.2,delay:0,boundOffset:0,throttle:50,ease:Power2.easeOut,onFirstAppear:d,onFirstAppeared:d,onAppear:d,onAppeared:d,onDisappear:d,onDisappeared:d},b),l=a(window),m=a(this),n=[],o=0,p="down",q=null,r=function(){m.iptInView("destroy"),l.off("scroll",e)};return j(),{target:this,destroy:r}}}(jQuery,jQuery.fn.iptInView,TweenMax),function(a,b){"use strict";a.fn.sameHeightColumns=function(c){function d(b){var c=0;return b.each(function(b){a(this).height()>c&&(c=a(this).height())}),c}function e(){var c=h.find(".same-height-item"),e=c.length;if(c.height("auto"),g.resetSetHeight(c),0!==g.minWidth&&b.mq("(min-width:"+g.minWidth+"px)"))for(var f=0;f<Math.ceil(e/g.columns);f++){var i=c.splice(0,g.columns),j=d(a(i));g.beforeSetHeight(a(i),j),a(i).height(j),g.afterSetHeight(a(i),j)}}function f(){e(),a(window).on("resize orientationchange",e)}var g=a.extend({minWidth:992,columns:2,resetSetHeight:function(a){},beforeSetHeight:function(a,b){},afterSetHeight:function(a,b){}},c),h=a(this),i=function(){a(window).off("resize orientationchange",e)};return f(),{target:this,destroy:i}}}(jQuery,Modernizr);var menu=function(a,b,c){function d(){var a=e.width(),b=e.height(),d=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));c.set(g,{width:d,height:d,top:-d/2,right:-d/2})}var e=a(window),f=a("#menu"),g=f.find(".circle-bg"),h=f.find(".vertical-container"),i=f.find(".watermark"),j=h.find("li"),k=!1,l=.8,m=!1;isIE()&&i.hide();var n=function(a){var b=l;void 0!==a&&a===!0&&(b=.01),k||m||(c.set(f,{display:"block"}),isIE()&&c.fromTo(i,b,{alpha:0,display:"none"},{alpha:1,display:"block",ease:Power2.easeInOut,delay:b}),c.fromTo(h,b,{alpha:0},{alpha:1,ease:Power2.easeInOut,delay:b/2}),c.staggerFromTo(j,b,{x:150},{x:0,ease:Power2.easeOut,delay:b/2},.04),c.to(g,b,{scale:2,ease:Power2.easeInOut,onStart:function(){m=!0,f.trigger("beforeopen",[a])},onComplete:function(){m=!1,k=!0,f.trigger("afteropen",[a])}}))},o=function(a){function b(){c.to(h,d,{alpha:0,ease:Power2.easeInOut,onStart:function(){m=!0,f.trigger("beforeclose",[a])}}),c.staggerFromTo(j,d,{x:0},{x:150,ease:Power2.easeInOut},.04),c.to(g,d,{scale:0,ease:Power2.easeOut,delay:d/2,onComplete:function(){m=!1,k=!1,c.set(f,{display:"none"}),f.trigger("afterclose",[a])}})}var d=l;void 0!==a&&a===!0&&(d=.01),k&&!m&&(isIE()?c.fromTo(i,d/2,{alpha:1,display:"block"},{alpha:0,display:"none",ease:Power2.easeInOut,onComplete:function(){b()}}):b())},p=function(a){m||(k?o(a):n(a))},q=function(){return m},r=function(){return k},s=function(a,b){f.on(a,b)},t=function(a,b){f.one(a,b)},u=function(a){f.off(a)};return e.on("load resize",function(){d()}),{open:n,close:o,toggle:p,isAnimate:q,isOpen:r,on:s,one:t,off:u}}(jQuery,Modernizr,TweenMax),loader=function(a,b,c){function d(){r.add([c.staggerTo(k,o,{scale:0,alpha:0,ease:Back.easeInOut},.1),c.staggerFromTo(m,o/2,{alpha:0,y:200},{alpha:1,y:0,ease:Power2.easeInOut,delay:o/2},.1)]).add([c.staggerTo(m,o/2,{alpha:0,y:-200,ease:Power2.easeIn,delay:.4},.2),c.to(i,o,{y:"-100%",ease:Power2.easeInOut,delay:.4,onStart:function(){i.trigger("beforeclose")},onComplete:function(){i.trigger("afterclose"),i.remove()}})])}function e(){q.to(j,o/2,{alpha:.5,repeat:-1,yoyo:!0,onStart:function(){n&&(q.kill(),r.play())},onRepeat:function(){n&&(q.kill(),r.play())}})}function f(){k.each(function(){var b=a(this),c={scale:0};b.hasClass("top")?c.y=-h.height()/3:b.hasClass("bottom")?c.y=h.height()/3:b.hasClass("right")?c.x=h.width()/3:b.hasClass("left")&&(c.x=-h.width()/3),p.set(a(this),c)}),p.to(k,o,{alpha:1,x:0,y:0,scale:1,ease:Cubic.easeInOut,onComplete:function(){q.play()}})}function g(){d(),e(),f(),p.play()}var h=a(window),i=a("#loader"),j=i.find(".rosone"),k=j.find("img"),l=i.find(".text"),m=l.find("div"),n=!1,o=1.8,p=new TimelineMax({paused:!0}),q=new TimelineMax({paused:!0}),r=new TimelineMax({paused:!0}),s=function(a,b){i.on(a,b)},t=function(a,b){i.one(a,b)},u=function(a){i.off(a)};return h.on("load",function(){n=!0}),g(),{target:this,on:s,one:t,off:u}}(jQuery,Modernizr,TweenMax),homepageCtrl=function(a,b,c,d,e){function f(){$header.hasClass("toggle")||($window.scrollTop()>=$window.height()?($header.addClass("visible"),$header.hasClass("toggle-fast")&&$header.removeClass("toggle-fast")):$header.removeClass("visible"))}var g,h,i,j=a("main"),k=function(){storeLastScrollTop("0"),g=createSwiperSlider(a(".swiper-container"),{autoplay:2800,speed:1200,loop:!0,onlyExternal:!0,parallax:!0},!0),b.isSupported()&&(i=b.change(function(a,b){"hidden"==b?g.stopAutoplay():"visible"==b&&g.startAutoplay()})),device.desktop()&&(h=a(".box").inviewReveal({boundOffset:22})),$header.addClass("not-visible"),j.imagesLoader({sequential:!0,onProgress:function(a){a.find(".spinner").remove()}}),$window.on("scroll",f)},l=function(){$header.hide().removeClass("not-visible visible").show(),h&&h.destroy(),g&&g.destroy(!0,!0),i&&b.unbind(i),$window.off("scroll",f)};return{launch:k,destroy:l}}(jQuery,Visibility,Swiper,jQuery.fn.inviewReveal,jQuery.fn.imagesLoader),storyCtrl=function(a,b,c,d){var e,f,g=a("main"),h=function(){storeLastScrollTop("0"),e=a(".same-height").sameHeightColumns({resetSetHeight:function(b){b.each(function(){a(this).find(".box:last").height("auto")})},beforeSetHeight:function(b,c){b.each(function(){var b=a(this),d=b.find(".box:last"),e=c-b.height();d.height(d.height()+e)})}}),device.desktop()&&(f=a(".box").inviewReveal({boundOffset:22})),g.imagesLoader({sequential:!0,onProgress:function(a){a.find(".spinner").remove()}})},i=function(){e&&e.destroy(),f&&f.destroy()};return{launch:h,destroy:i}}(jQuery,jQuery.sameHeightColumns,jQuery.inviewReveal,jQuery.imagesLoader),bTasteCtrl=function(a,b,c,d,e){var f,g,h=a("main"),i=function(){var c=getLastScrollTop();(null!==c||void 0!==c)&&scrollToTarget(parseInt(c),.001),storeLastScrollTop("0"),b.desktop()&&(f=a(".box").inviewReveal({boundOffset:22}),g=h.find(".parallax-3d").parallax3d({preventScaling:!0})),h.imagesLoader({sequential:!0,onProgress:function(a){a.find(".spinner").remove()}})},j=function(){storeLastScrollTop(),f&&f.destroy(),g&&g.destroy()};return{launch:i,destroy:j}}(jQuery,device,jQuery.inviewReveal,jQuery.imagesLoader,jQuery.parallax3d),bTasteDetailCtrl=function(a,b,c,d){function e(){var b,c=a("#instafeed"),d=a(".button.instafeed-button");b=new Instafeed({get:"tagged",clientId:"467ede5a6b9b48ae8e03f4e2582aeeb3",tagName:c.data("tag"),limit:60,sortBy:"most-liked",links:!0,useHttp:!0,resolution:"standard_resolution",template:'<div class="col-xs-6 col-sm-4"><a href="{{link}}" target="_blank"><div class="box" data-type="square"><div class="picture" data-position="absolute" data-src="{{image}}"><div class="spinner" data-size="small"><span class="ring"></span></div></div></div></a></div>',after:function(){c.parent().removeClass("hide"),device.desktop()?k=c.find(".box").inviewReveal({boundOffset:22,onFirstAppear:function(a){a.imagesLoader({onProgress:function(a){a.find(".spinner").remove()}})}}):c.imagesLoader({onProgress:function(a){a.find(".spinner").remove()}}),d.removeAttr("disabled").removeClass("load")},error:function(){c.parent().removeClass("hide"),d.removeAttr("disabled").removeClass("load"),c.find(".no-feed").slideDown()}}),d.on("click",function(a){a.preventDefault(),scrollToTarget("#"+c.attr("id"))}),b.run()}function f(){var b=a('.box[data-type="expand"]'),d=a(".detail .description"),e=d.find(".wrapper"),f=d.find(".more"),g=f.find("button"),h=e.find("p"),i=.8,j=Power2.easeInOut;e.data("height",e.height()),h.outerHeight()<e.height()+f.height()&&d.addClass("reset"),g.on("click",function(a){a.preventDefault(),d.hasClass("opened")?(d.removeClass("opened"),scrollToTarget('.box[data-type="expand"]'),c.to(e,i,{height:e.data("height"),ease:j}),c.to(b,i,{height:b.height()-(h.outerHeight()-e.data("height")),ease:j})):(d.addClass("opened"),scrollToTarget(".detail .title"),c.to(e,i,{height:h.outerHeight(),ease:j}),c.to(b,i,{height:b.height()+(h.outerHeight()-e.data("height")),ease:j}))})}function g(){var b=a('.box[data-type="expand"]'),d=a(".detail .description"),e=d.find(".wrapper");$paragraph=e.find("p"),height=b.parent().height(),d.hasClass("opened")&&(height+=$paragraph.outerHeight()-e.data("height")),c.set(b,{height:height})}var h,i,j,k,l=a("main"),m=function(){c.staggerFromTo(a(".detail").children(":not(br)"),.8,{alpha:0,y:100},{alpha:1,y:0,ease:Power2.easeOut},.15),1==a(".swiper-slide").length&&a(".swiper-pagination, .swiper-button").hide(),h=createSwiperSlider(a(".swiper-container"),{autoplay:2800,speed:1200,loop:a(".swiper-slide").length>1,followFinger:!1,simulateTouch:!1,pagination:".swiper-pagination"},!0,!0),i=!0,a(".swiper-container").find(".swiper-button").on("click",function(a){i=!1}),b.isSupported()&&(j=b.change(function(a,b){"hidden"==b?i&&h.stopAutoplay():"visible"==b&&(i?h.startAutoplay():h.update())})),a(".button.scroll-top").on("click",function(a){a.preventDefault(),scrollToTarget(0)}),l.imagesLoader({sequential:!0,onProgress:function(a){a.find(".spinner").remove()}}),f(),e(),g(),$window.on("resize",g),setTimeout(function(){$window.scrollTop(0),a("html,body").scrollTop(0)},500)},n=function(){h&&h.destroy(!0,!0),j&&b.unbind(j),k&&k.destroy(),$window.off("resize",g)};return{launch:m,destroy:n}}(jQuery,Visibility,TweenMax,Swiper),bCardCtrl=function(a,b,c){var d,e=a("main"),f=function(){storeLastScrollTop("0"),d=createSwiperSlider(a(".swiper-container"),{speed:1200,mousewheelControl:!0,keyboardControl:!0,simulateTouch:!1,followFinger:!1,autoplay:4e3,loop:!0,effect:navigator.userAgent.search("Firefox")>-1||isIE()?"slide":"cube",cube:{slideShadows:!1,shadow:!1}}),a(".swiper-button").on("click",function(b){b.preventDefault(),"left"===a(this).data("slide-to")?d.slidePrev():"right"===a(this).data("slide-to")&&d.slideNext()}),e.imagesLoader()},g=function(){d&&d.destroy(!0,!0)};return{launch:f,destroy:g}}(jQuery,Swiper,jQuery.fn.imagesLoader),advertisingCtrl=function(a,b,c,d,e,f){function g(){function c(){var b=$window.width(),c=$window.height(),d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));TweenMax.set(a(".mfp-bg"),{width:d,height:d,top:-d/2,right:-d/2})}function d(){c(),$window.on("resize",c),b.touch&&a(".mfp-gallery").swipe({swipe:function(b,c){"left"===c?a.magnificPopup.instance.next():"right"===c&&a.magnificPopup.instance.prev()},threshold:0})}function e(){$window.off("resize",c),b.touch&&a(".mfp-gallery").swipe("destroy")}function f(){h=$window.scrollTop()}function g(){$window.scrollTop(h)}var h=null;storeLastScrollTop("0"),magnificPopup=a("#advertising-gallery").magnificPopup({delegate:"a",type:"image",preloader:!0,closeOnContentClick:!1,closeBtnInside:!0,fixedContentPos:!0,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0,preload:[0,2],navigateByImgClick:!1,arrowMarkup:'<button type="button" data-color="invert" data-slide-to="%dir%" class="arrow-button mfp-arrow mfp-arrow-%dir%"><span class="circle-bg"></span><span class="big-arrow" data-direction="%dir%"></span></button>'},zoom:{enabled:!0,duration:500,easing:"ease",opener:function(a){return a.find(".picture")}},callbacks:{open:d,close:e,beforeOpen:f,afterClose:g}})}var h,i,j=a("main"),k=function(){storeLastScrollTop("0"),c.desktop()&&(h=a(".box").inviewReveal({boundOffset:22}),i=j.find(".parallax-3d").parallax3d({preventScaling:!0})),j.imagesLoader({sequential:!0,onProgress:function(a){a.find(".spinner").remove()}}),g()},l=function(){h&&h.destroy(),i&&i.destroy()};return{launch:k,destroy:l}}(jQuery,Modernizr,device,jQuery.inviewReveal,jQuery.imagesLoader,jQuery.parallax3d),contactsCtrl=function(a,b){function c(){var b=a("#contacts-text"),c=b.parent();$footer=a("#footer"),b.height(c.height()-$footer.outerHeight())}function d(){var c,d,e=a(".map-container"),f=e.find(".spinner"),g=a("#gmap"),h=new google.maps.LatLng(45.533414,10.222092);c=new google.maps.Map(g[0],{zoom:17,center:h,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER},scrollwheel:!b.touch,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]}),d=new google.maps.Marker({position:h,map:c,icon:isIE()?g.data("marker-png"):g.data("marker-svg"),url:g.data("url")}),google.maps.event.addListener(d,"click",function(){window.open(this.url)}),google.maps.event.addListenerOnce(c,"tilesloaded",function(a){g.addClass("enable"),f.remove()})}var e=(a("main"),function(){storeLastScrollTop("0"),c(),$window.on("resize",c),googleMapsLoaded?d():($window.one("googlemapsloaded",d),loadGoogleMapsApi())}),f=function(){$window.off("resize",c)};return{launch:e,destroy:f}}(jQuery,Modernizr),cookieCtrl=function(){return{launch:function(){storeLastScrollTop("0")},destroy:function(){}}}(),error404Ctrl=function(a){var b=a("main"),c=function(){storeLastScrollTop("0"),b.imagesLoader({onProgress:function(a){a.find(".spinner").remove()}})},d=function(){};return{launch:c,destroy:d}}(jQuery),routing=function(a,b,c,d,e){function f(a){var b=a.split("/");return b=b[b.length-1],""!==b&&(b=b.replace("-"," "),b=b.charAt(0).toUpperCase()+b.slice(1),b+=" - "),b+=k}function g(b,c){l?h.on("load",function(){l=!1,storeLastScrollTop("0"),m=c,loader.on("beforeclose",function(){m.launch()})}):a.get(b,function(a){d.to(i,.4,{alpha:0,onComplete:function(){m.destroy(),scrollToTarget(0,.001),e.isOpen()&&e.close(!0),j.html(a),m=c,m.launch(),d.to(i,.4,{alpha:1})}})})}var h=a(window),i=(a("html"),a("body")),j=a("main"),k=(a("title"),""),l=!0,m=null,n=function(a){return c.addRoute(a.route,function(){var b=a.route,c=/{([^}]+)}/g,d=[];if(arguments.length>0){for(;slugMatch=c.exec(a.route);)d.push(slugMatch[1]);for(var e=0;e<arguments.length;e++)b=b.replace("{"+d[e]+"}",arguments[e])}g(b,a.controller)}),this},o=function(a){return c.bypassed.add(function(){g(a.route,a.controller)}),this},p=function(a){return k=a,this},q=function(){return String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b}),b.enabled&&(c.ignoreState=!0,c.parse(document.location.pathname+document.location.search),State=b.getState(),b.pushState({urlPath:window.location.pathname},f(window.location.pathname),State.urlPath),b.Adapter.bind(window,"statechange",function(){return c.parse(document.location.pathname+document.location.search)}),i.on("click","a:not([target=_blank], [data-route=none])",function(c){var d=a(this).attr("href");})),this};return{init:q,addRoute:n,addBypass:o,setAppName:p}}(jQuery,window.History,crossroads,TweenMax,menu),appName="Gelateria del Biondo",$window=$(window),$html=$("html"),$body=$("body"),$header=$("#header"),$headerBlock=$header.find(".header-block");WebFontConfig={google:{families:["Lato:100,300,400,700,900:latin"]}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),FastClick.attach(document.body),outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"transform",languagePath:"/vendor/outdated-browser/outdatedbrowser/lang/"+$html.attr("lang")+".html"});var $bicaUrl=$(".bica-url");$bicaUrl.remove(),bica.init({infoUrl:$bicaUrl.attr("href")}),$headerBlock.delegate(".header-button","click",function(a){a.preventDefault(),menu.toggle()}),$body.delegate(".scroll-viewport","click",function(a){scrollToTarget()}),menu.on("beforeclose beforeopen",function(a,b){$header.toggleClass("toggle"),$header.removeClass("toggle-fast"),"beforeclose"===a.type&&b&&$header.addClass("toggle-fast")}),isIE()&&$html.addClass("ie"),routing.addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/",controller:homepageCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/bstory.html",controller:storyCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/btaste'))+"/btaste/",controller:bTasteCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/btaste'))+"/btaste/{slug}",controller:bTasteDetailCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/bcard.html",controller:bCardCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/advertising.html",controller:advertisingCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/contatti.html",controller:contactsCtrl}).addRoute({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/informativa-cookie.html",controller:cookieCtrl}).addBypass({route:window.location.pathname.substring(0,window.location.pathname.lastIndexOf('/'))+"/404",controller:error404Ctrl}).setAppName(appName).init();